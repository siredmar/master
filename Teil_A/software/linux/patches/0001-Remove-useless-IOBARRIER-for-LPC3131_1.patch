From 620b815820e676d02c720ba351a26dcbe6fbf0e5 Mon Sep 17 00:00:00 2001
From: Jean-Christian de Rivaz <jc@eclis.ch>
Date: Tue, 20 Oct 2009 14:06:32 +0200
Subject: [PATCH] Remove useless IOBARRIER for LPC3131

---
 arch/arm/mach-lpc313x/ea313x.c |   11 ++---------
 1 files changed, 2 insertions(+), 9 deletions(-)

diff --git a/arch/arm/mach-lpc313x/ea313x.c b/arch/arm/mach-lpc313x/ea313x.c
index 3ab4093..5705c08 100644
--- a/arch/arm/mach-lpc313x/ea313x.c
+++ b/arch/arm/mach-lpc313x/ea313x.c
@@ -173,15 +173,8 @@ static struct resource dm9000_resource[] = {
 		.flags	= IORESOURCE_IRQ
 	}
 };
-/* Use the second static memory bank, with fast timings, as an IOBARRIER. ARM MPMC contoller
-as part of low power design doesn't de-assert nCS and nOE for consecutive reads but 
-just changes address. But DM9000 requires nCS and nOE change between address. So access
-other chip select area (nCS0) to force de-assertion of nCS1 and nOE1. Or else wait for long time 
-such as 80 usecs. */
-
-/* if EA_DISP_QVGA_LCD_V2 is used then use following macro else use udelay macro */
-# define DM_IO_DELAY()	do { *((volatile unsigned char __force*) io_p2v(EXT_SRAM0_PHYS)) = 0;} while(0)
-//# define DM_IO_DELAY	udelay(80)
+
+#define DM_IO_DELAY()	do {} while(0)
 
 static void dm9000_dumpblk(void __iomem *reg, int count)
 {
-- 
1.5.6.5

